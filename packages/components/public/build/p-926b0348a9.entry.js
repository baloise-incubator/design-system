import{r as i,c as t,h as r,H as e,g as s}from"./p-a880f6ce.js";import{l as a}from"./p-a66809ee.js";import{b as n}from"./p-77b56332.js";import{s as o}from"./p-27ef59b5.js";import{B as l}from"./p-61996a75.js";import"./p-2e55b95c.js";const d=class{constructor(r){i(this,r),this.balInput=t(this,"balInput",7),this.balBlur=t(this,"balBlur",7),this.balClick=t(this,"balClick",7),this.balKeyPress=t(this,"balKeyPress",7),this.balFocus=t(this,"balFocus",7),this.balChange=t(this,"balChange",7),this.inputId="bal-input-slider-"+b++,this.didInit=!1,this.hasFocus=!1,this.initialValue="",this.onInput=i=>{const t=i.target;t&&(this.value=t.value||""),this.balInput.emit(this.value)},this.handleClick=i=>{(this.disabled||this.readonly)&&(i.preventDefault(),i.stopPropagation())},this.onFocus=i=>{this.hasFocus=!0,this.balFocus.emit(i)},this.onBlur=i=>{this.hasFocus=!1,this.balBlur.emit(i),this.balChange.emit(this.value)},this.onClick=i=>{this.disabled||this.readonly||this.balClick.emit(i)},this.name=this.inputId,this.step=0,this.min=0,this.max=100,this.balTabindex=0,this.disabled=!1,this.readonly=!1,this.required=!1,this.hasTicks=!1,this.debounce=0,this.value=""}debounceChanged(){this.balChange=n(this.balChange,this.debounce)}listenOnClick(i){(this.disabled||this.readonly)&&i.target&&i.target===this.el&&o(i)}resetHandler(i){const t=i.target;(null==t?void 0:t.contains(this.el))&&(this.value=this.initialValue,clearTimeout(this.resetHandlerTimer),this.resetHandlerTimer=setTimeout((()=>{this.nativeInput&&(this.nativeInput.value=this.initialValue)}),0))}valueChanged(i,t){this.didInit&&!this.hasFocus&&i!==t&&this.balChange.emit(this.value)}connectedCallback(){this.debounceChanged(),this.initialValue=this.value}componentDidLoad(){this.didInit=!0,a(this.value)||""===this.value||this.valueChanged(this.value,void 0)}async setFocus(){clearTimeout(this.setFocusTimer),this.setFocusTimer=setTimeout((()=>{this.nativeInput&&this.nativeInput.focus()}))}getInputElement(){return Promise.resolve(this.nativeInput)}get numberOfSteps(){const i=this.max-this.min;return this.step<=0||this.step>=i?0:1+~~(i/this.step)}cssWidth(i=!1){const t=""===this.value?0:Math.round(Number(this.value)/this.step)*this.step,r=100/this.max*t;return i?`${r}%`:100-r+"%"}getNumberOfSteps(){const i=[];for(let t=0;t<this.numberOfSteps;t++)i.push(t);return i}render(){const i=l.block("input-slider"),t=i.element("background"),s=t.element("upper"),a=s.element("inner"),n=t.element("lower"),o=n.element("inner"),d=i.element("input"),b=d.element("native"),u=d.element("value"),h=u.modifier("left"),p=u.modifier("right"),c=i.element("steps"),_=c.element("item");return r(e,{class:Object.assign(Object.assign({},i.class()),i.modifier("disabled").class(this.disabled||this.readonly)),onClick:this.handleClick,"aria-disabled":this.disabled||this.readonly?"true":null},r("div",{class:Object.assign(Object.assign({},t.class()),t.modifier("disabled").class(this.disabled||this.readonly))},r("div",{class:Object.assign({},s.class()),style:{width:this.cssWidth()}},r("div",{class:Object.assign({},a.class())})),r("div",{class:Object.assign({},n.class()),style:{width:this.cssWidth(!0)}},r("div",{class:Object.assign({},o.class())}))),r("div",{class:Object.assign({},d.class())},r("div",{class:Object.assign(Object.assign({},u.class()),h.class())}),r("input",{type:"range",class:Object.assign(Object.assign({},b.class()),b.modifier("disabled").class(this.disabled||this.readonly)),ref:i=>this.nativeInput=i,id:this.inputId,disabled:this.disabled,readonly:this.readonly,name:this.name,required:this.required,tabIndex:this.balTabindex,step:this.step,min:this.min,max:this.max,value:""!==this.value&&void 0!==this.value?this.value:0,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,onClick:this.onClick,onKeyPress:i=>this.balKeyPress.emit(i)}),r("div",{class:Object.assign(Object.assign({},u.class()),p.class())})),r("div",{class:Object.assign({},c.class()),style:{display:this.hasTicks?"flex":"none"}},this.getNumberOfSteps().map((i=>r("div",{class:Object.assign(Object.assign({},_.class()),_.modifier("disabled").class(this.disabled||this.readonly)),"data-step-id":i})))))}get el(){return s(this)}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"]}}};let b=0;d.style={css:".bal-input-slider{display:block;position:relative;width:100%;-ms-flex:1;flex:1;font-family:var(--bal-font-family-text);-ms-flex-direction:column;flex-direction:column;min-height:3rem}.bal-input-slider__background{position:absolute;top:1rem;left:0px;right:0px;z-index:0;border-radius:var(--bal-radius-rounded);background:var(--bal-color-green-3);height:1rem;width:100%;overflow:hidden}.bal-input-slider__background__upper,.bal-input-slider__background__lower{position:absolute;top:0;width:50%;margin:0;cursor:pointer}.bal-input-slider__background__upper>div,.bal-input-slider__background__lower>div{height:1rem;border-radius:none}.bal-input-slider__background__upper{right:0px}.bal-input-slider__background__upper>div{background:var(--bal-color-green-3);border-top-right-radius:var(--bal-radius-rounded);border-bottom-right-radius:var(--bal-radius-rounded)}.bal-input-slider__background__lower{left:0px}.bal-input-slider__background__lower>div{background:var(--bal-color-green-5);border-top-left-radius:var(--bal-radius-rounded);border-bottom-left-radius:var(--bal-radius-rounded)}.bal-input-slider__background--disabled{cursor:default;pointer-events:none;background:var(--bal-color-grey-2)}.bal-input-slider__background--disabled .bal-input-slider__background__upper__inner{background:var(--bal-color-grey-2)}.bal-input-slider__background--disabled .bal-input-slider__background__lower__inner{background:var(--bal-color-grey-4)}.bal-input-slider__input{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;min-height:3rem}.bal-input-slider__input__native{-webkit-appearance:none;margin:0;background:transparent;z-index:1;outline:none;min-width:200px;width:100%}.bal-input-slider__input__native::-webkit-slider-runnable-track{width:100%;cursor:pointer;border:none}.bal-input-slider__input__native::-webkit-slider-thumb{-webkit-box-shadow:none;box-shadow:none;border:3px solid var(--bal-color-primary-inverted);height:1rem;width:1rem;border-radius:var(--bal-radius-rounded);background:var(--bal-color-primary);cursor:pointer;-webkit-appearance:none}.bal-input-slider__input__native:focus-visible{outline:none}.bal-input-slider__input__native:focus-visible::-webkit-slider-thumb{background:var(--bal-color-primary);border:2px solid var(--bal-color-primary)}.bal-input-slider__input__native::-moz-range-track{cursor:pointer;box-shadow:none;background:transparent;width:100%;border:none;z-index:2}.bal-input-slider__input__native::-moz-range-thumb{box-shadow:none;border:3px solid var(--bal-color-primary-inverted);height:10px;width:10px;border-radius:var(--bal-radius-rounded);background:var(--bal-color-primary);cursor:pointer}.bal-input-slider__input__native::-ms-track{cursor:pointer;box-shadow:none;background:transparent;width:100%;border:none;z-index:2}.bal-input-slider__input__native::-ms-fill-lower{background:transparent;border:none;box-shadow:none}.bal-input-slider__input__native::-ms-fill-upper{background:transparent;border:none;box-shadow:none}.bal-input-slider__input__native::-ms-thumb{box-shadow:none;border:3px solid var(--bal-color-primary-inverted);height:1rem;width:1rem;border-radius:var(--bal-radius-rounded);background:var(--bal-color-primary);cursor:pointer;-webkit-appearance:none;z-index:2}.bal-input-slider__input__native:focus::-ms-fill-lower{background:transparent}.bal-input-slider__input__native:focus::-ms-fill-upper{background:transparent}.bal-input-slider__input__native--disabled::-webkit-slider-thumb{background:var(--bal-color-grey-5)}.bal-input-slider__input__native--disabled::-ms-thumb{background:var(--bal-color-grey-5)}.bal-input-slider__input__native--disabled::-moz-range-thumb{background:var(--bal-color-grey-5)}.bal-input-slider__steps{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;min-height:.5rem;margin:-10px 8px;-ms-flex-pack:justify;justify-content:space-between}.bal-input-slider__steps__item{width:.125rem;border-radius:var(--bal-radius-rounded);background-color:var(--bal-color-primary)}.bal-input-slider__steps__item--disabled{background:var(--bal-color-grey-4)}@-moz-document url-prefix(){.bal-input-slider__steps{margin:0 8px !important}}"};export{d as bal_input_slider}