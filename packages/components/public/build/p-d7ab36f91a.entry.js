import{r as t,c as i,h as s,H as e,g as h}from"./p-a880f6ce.js";import{B as a}from"./p-61996a75.js";import{FOCUS_KEYS as o}from"./p-61d4c85d.js";import{L as l}from"./p-f382ef7c.js";import{i as r,k as c,h as n}from"./p-77b56332.js";import"./p-2e55b95c.js";const d=class{constructor(s){t(this,s),this.balFocus=i(this,"balFocus",7),this.balBlur=i(this,"balBlur",7),this.balChange=i(this,"balChange",7),this.balClick=i(this,"balClick",7),this.inputId="bal-rb-"+b++,this.radioGroup=null,this.keyboardMode=!0,this.updateState=()=>{this.radioGroup&&(this.checked=this.radioGroup.value===this.value)},this.onClick=t=>{t.target.href||(this.checked=this.nativeInput.checked,this.balClick.emit(),this.nativeInput.focus())},this.onFocus=()=>{this.balFocus.emit(),this.keyboardMode&&(this.focused=!0)},this.onBlur=()=>{this.balBlur.emit(),this.focused=!1},this.onPointerDown=()=>this.keyboardMode=!1,this.onKeydown=t=>this.keyboardMode=o.includes(t.key),this.checked=!1,this.focused=!1,this.buttonTabindex=-1,this.name=this.inputId,this.value=void 0,this.isEmpty=void 0,this.label="",this.labelHidden=!1,this.flat=!1,this.interface="radio",this.disabled=!1,this.readonly=!1,this.required=!1,this.hidden=!1,this.invalid=!1}createLogger(t){this.log=t}isEmptyHandler(){void 0!==this.isEmpty&&(this.labelHidden=this.isEmpty,console.warn("[DEPRECATED] - Use label-hidden instead"))}connectedCallback(){void 0===this.value&&(this.value=this.inputId);const t=this.radioGroup=this.el.closest("bal-radio-group");t&&(this.updateState(),t.addEventListener("balInput",this.updateState)),this.el.addEventListener("keydown",this.onKeydown),this.el.addEventListener("touchstart",this.onPointerDown),this.el.addEventListener("mousedown",this.onPointerDown)}disconnectedCallback(){const t=this.radioGroup;t&&(t.removeEventListener("balInput",this.updateState),this.radioGroup=null),this.el.removeEventListener("keydown",this.onKeydown),this.el.removeEventListener("touchstart",this.onPointerDown),this.el.removeEventListener("mousedown",this.onPointerDown)}async setFocus(t){t.stopPropagation(),t.preventDefault(),this.nativeInput.focus(),this.focused=!0}async setButtonTabindex(t){this.buttonTabindex=t}getInputElement(){return Promise.resolve(this.nativeInput)}componentWillLoad(){this.isEmptyHandler()}render(){const t=a.block("radio-checkbox"),i=t.element("input"),h=t.element("label"),o=h.element("text"),l="boolean"==typeof this.value?JSON.stringify(this.value):this.value;return s(e,{role:"radio","aria-checked":`${this.checked}`,"aria-disabled":this.disabled?"true":null,"aria-hidden":this.disabled?"true":null,"aria-focused":this.focused?"true":null,class:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"bal-focused":this.focused},t.class()),t.modifier("radio").class()),t.modifier("select-button").class("select-button"===this.interface)),t.modifier("invalid").class(this.invalid)),t.modifier("checked").class(this.checked)),t.modifier("flat").class(this.flat)),t.modifier("disabled").class(this.disabled||this.readonly)),onClick:this.onClick},s("input",{class:Object.assign(Object.assign(Object.assign({},i.class()),i.modifier("select-button").class("select-button"===this.interface)),{"data-test-radio-input":!0}),type:"radio",id:this.inputId,name:this.name,value:l,checked:this.checked,"aria-checked":`${this.checked}`,disabled:this.disabled,readonly:this.readonly,required:this.required,onFocus:this.onFocus,onBlur:this.onBlur,ref:t=>this.nativeInput=t}),s("label",{class:Object.assign(Object.assign(Object.assign(Object.assign({},h.class()),h.modifier("checked").class(this.checked)),h.modifier("radio").class()),{"data-test-radio-label":!0}),htmlFor:this.inputId},s("span",{class:Object.assign(Object.assign({},o.class()),o.modifier("hidden").class(this.labelHidden))},this.label,s("slot",null))))}get el(){return h(this)}static get watchers(){return{isEmpty:["isEmptyHandler"]}}};!function(t,i,s,e){var h,a=arguments.length,o=a<3?i:null===e?e=Object.getOwnPropertyDescriptor(i,s):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,s,e);else for(var l=t.length-1;l>=0;l--)(h=t[l])&&(o=(a<3?h(o):a>3?h(i,s,o):h(i,s))||o);a>3&&o&&Object.defineProperty(i,s,o)}([l("bal-radio")],d.prototype,"createLogger",null);let b=0;const u=class{constructor(s){t(this,s),this.balChange=i(this,"balChange",7),this.balInput=i(this,"balInput",7),this.balFocus=i(this,"balFocus",7),this.balBlur=i(this,"balBlur",7),this.inputId="bal-rg-"+p++,this.setRadioTabindex=t=>{const i=this.getRadios(),s=i.find((t=>!t.disabled)),e=i.find((i=>i.value===t&&!i.disabled));if(!s&&!e)return;const h=e||s;for(const t of i)t.setButtonTabindex(t===h?0:-1)},this.onClick=t=>{if(t.target.href)return;t.preventDefault();const i=t.target&&t.target.closest("bal-radio");if(i&&!i.disabled&&!i.readonly){const t=i.value;t!==this.value?this.value=t:this.allowEmptySelection&&(this.value=void 0),this.balChange.emit(this.value)}},this.allowEmptySelection=!1,this.name=this.inputId,this.value=void 0,this.interface=void 0,this.vertical=!1,this.verticalOnMobile=!1,this.expanded=!1,this.invalid=void 0,this.disabled=void 0,this.readonly=void 0}createLogger(t){this.log=t}valueChanged(t){this.setRadioTabindex(t),this.balInput.emit(this.value)}invalidChanged(t){void 0!==t&&this.getRadios().forEach((i=>{i.invalid=t}))}disabledChanged(t){void 0!==t&&this.getRadios().forEach((i=>{i.disabled=t}))}readonlyChanged(t){void 0!==t&&this.getRadios().forEach((i=>{i.readonly=t}))}connectedCallback(){this.initialValue=this.value}componentWillLoad(){this.setRadioInterface(),this.disabledChanged(this.disabled),this.readonlyChanged(this.readonly),this.invalidChanged(this.invalid)}componentDidLoad(){this.setRadioTabindex(this.value)}radioFocusListener(t){const{target:i}=t;i&&r(this.el,i)&&c(i,"bal-radio")&&this.balFocus.emit(t.detail)}radioBlurListener(t){const{target:i}=t;i&&r(this.el,i)&&c(i,"bal-blur")&&this.balFocus.emit(t.detail)}resetListener(t){const i=t.target;(null==i?void 0:i.contains(this.el))&&(this.value=this.initialValue)}onKeydown(t){if(t.target&&!this.el.contains(t.target))return;const i=this.getRadios().filter((t=>!t.disabled)),s=t.target.closest("bal-radio");if(s&&i.includes(s)){const e=i.findIndex((t=>t===s)),h=i[e];let a;["ArrowDown","ArrowRight"].includes(t.code)&&(a=e===i.length-1?i[0]:i[e+1]),["ArrowUp","ArrowLeft"].includes(t.code)&&(a=0===e?i[i.length-1]:i[e-1]),a&&i.includes(a)&&(a.setFocus(t),this.value=a.value,this.balChange.emit(this.value)),["Space"].includes(t.code)&&(this.value=this.allowEmptySelection&&void 0!==this.value?void 0:h.value,t.preventDefault())}}async setValue(t){this.value=t}setRadioInterface(){this.getRadios().forEach((t=>{this.interface&&(t.interface=this.interface)}))}getRadios(){return Array.from(this.el.querySelectorAll("bal-radio"))}render(){const t=n(this.el),i=a.block("radio-checkbox-group"),h=i.element("inner");return s(e,{class:Object.assign({},i.class()),role:"radiogroup","aria-labelledby":null==t?void 0:t.id,"aria-disabled":this.disabled?"true":null,onClick:this.onClick},s("div",{class:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h.class()),h.modifier("vertical-mobile").class(this.verticalOnMobile)),h.modifier("vertical").class(this.vertical)),h.modifier("expanded").class(this.expanded)),h.modifier("select-button").class("select-button"===this.interface))},s("slot",null)))}get el(){return h(this)}static get watchers(){return{value:["valueChanged"],invalid:["invalidChanged"],disabled:["disabledChanged"],readonly:["readonlyChanged"]}}};!function(t,i,s,e){var h,a=arguments.length,o=a<3?i:null===e?e=Object.getOwnPropertyDescriptor(i,s):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,s,e);else for(var l=t.length-1;l>=0;l--)(h=t[l])&&(o=(a<3?h(o):a>3?h(i,s,o):h(i,s))||o);a>3&&o&&Object.defineProperty(i,s,o)}([l("bal-radio-group")],u.prototype,"createLogger",null);let p=0;export{d as bal_radio,u as bal_radio_group}