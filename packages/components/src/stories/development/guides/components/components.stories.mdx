import { Meta, Description, DocsContainer } from '@storybook/addon-docs'
import { BackToTop, TableOfContents } from 'hirsch-storybook-docs-toc'

import text_intro from './components_intro.md'
import text_angular from './components_angular.md'
import text_react from './components_react.md'
import text_html from './components_html.md'
import text_vue from './components_vue.md'

<Meta
  title="Development/Components"
  parameters={{
    previewTabs: {
      canvas: { hidden: true },
    },
    docs: {
      container: ({ context }) => {
        const framework = context && context.globals && context.globals.framework
        let markdown = text_angular
        if (framework === 'react') {
          markdown = text_react
        }
        if (framework === 'html') {
          markdown = text_html
        }
        if (framework === 'vue') {
          markdown = text_vue
        }
        return (
          <DocsContainer context={context}>
            <TableOfContents />
            <div className="my-doc-content">
              {<Description markdown={text_intro} />}
              {<Description markdown={markdown} />}
            </div>
            <BackToTop />
          </DocsContainer>
        )
      },
    },
  }}
/>

<bal-doc-github link="/stories/development/guides/components/components.stories.mdx"></bal-doc-github>
