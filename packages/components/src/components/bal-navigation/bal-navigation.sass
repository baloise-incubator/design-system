@import '@baloise/design-system-css/scss/baloise-design-system.utilities'

:root
  --bal-nav-main-mobile-height: 100vh

+block(nav)
  position: absolute
  display: block
  width: 100%
  z-index: 30
  top: 0
  left: 0
  background-color: var(--bal-color-white)
  +desktop
    background-color: transparent
    position: fixed
    top: 0
    left: 0
    transition: transform .3s ease-in-out
  +modifier(transformed)
    +desktop
      transform: translateY(-3rem)

  +element(meta)
    +unselectable
    background: var(--bal-color-primary)
    height: 48px
    max-height: 48px
    display: block
    nav
      display: flex
      height: 100%
      gap: .5rem
      align-items: center
      margin: 0 auto

    +element(start)
      display: flex
      flex-grow: 1
      align-items: center
      gap: .5rem
    +element(end)
      position: relative
      z-index: 20
      .bal-button
        position: relative
        z-index: 20

  +element(main)
    +unselectable
    padding: 0 !important
    display: block
    position: absolute !important
    left: 50%
    top: 100%
    transform: translateX(-50%)
    height: auto
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1)
    background: var(--bal-color-white)
    +between(1440px, 1528px)
      max-width: calc(100vw - 3rem) !important
      .bal-nav__main__head
        padding-left: 2rem
        padding-right: 2rem
    +until-widescreen
      width: 100%
      +modifier(expanded)
        border-bottom-left-radius: var(--bal-radius-large)
        border-bottom-right-radius: var(--bal-radius-large)
    +widescreen
      margin: 1rem auto 0 !important
      border-radius: var(--bal-radius-large)

    +element(head)
      display: block
      position: relative
      padding-left: 1rem
      padding-right: 1rem
      +tablet
        padding-left: 2.5rem
        padding-right: 2.5rem
      +desktop
        padding-left: 3rem
        padding-right: 3rem
      > div
        display: flex
        gap: .5rem
        flex-direction: column
        justify-content: flex-start
        align-items: flex-start
        padding-top: 1rem
        +high-definition
          gap: 1rem
          padding-top: 0
          flex-direction: row
          justify-content: flex-start
          align-items: center
        .bal-tabs--context-navigation
          flex: 1
          overflow: hidden
          overflow-x: auto
      +until-widescreen
        width: 100%
      +desktop
        &::after
          position: absolute
          content: ''
          width: 100%
          left: 0
          top: 100%
          height: 1px
          background-color: var(--bal-color-grey)
          opacity: 0
          z-index: 1
        +modifier(active)
          &::after
            opacity: 1
      +widescreen
        border-radius: var(--bal-radius-large)
        > div
          align-items: center
        +modifier(active)
          border-bottom-left-radius: 0 !important
          border-bottom-right-radius: 0 !important
          transition: border-radius .3s ease-in-out

    .bal-nav__main-head-logo
      +widescreen
        margin: 0
        padding: 0

    +element(body)
      position: relative
      display: block
      max-height: calc(100vh - 160px)
      overflow-y: auto
      padding-left: 1rem
      padding-right: 1rem
      +tablet
        padding-left: 2.5rem
        padding-right: 2.5rem
      +desktop
        padding-left: 3rem
        padding-right: 3rem
      +widescreen
        border-bottom-left-radius: var(--bal-radius-large)
        border-bottom-right-radius: var(--bal-radius-large)
      +fullhd
        max-height: calc(100vh - 176px)
  +element(menu)
    display: block
    +desktop
      padding-top: 2.5rem
      padding-bottom: 1.5rem
    .bal-nav__menu__wrapper.columns
      margin-bottom: 0
      margin-top: 0
      .column
        padding-top: 0
        padding-bottom: 0
    +element(link)
      display: block
      padding-bottom: 1rem
      > a
        color: var(--bal-color-blue)
        position: relative
        padding-right: 17px
        font-size: 0.75rem
        line-height: 1rem
        font-weight: var(--bal-weight-bold)
        +hover
          &:hover
            color: var(--bal-color-light-blue-5)
            text-decoration: underline
    +element(white-list)
      +widescreen
        display: flex
        flex-wrap: wrap

    +element(list)
      display: block
      position: relative
      > bal-card >:not(bal-badge):not(bal-tag):last-child
        padding-bottom: 1rem
      > bal-card >:not(bal-badge):not(bal-tag):first-child
        padding-top: 1rem
      +modifier(context-grey)
        +touch
          padding-bottom: 1rem
          padding-top: 1rem
        +desktop
          margin: 0 0 1rem
          &:last-child
            margin: 0 0 .5rem
      +modifier(context-white)
        +desktop
          > bal-card > bal-card-content
            padding-left: 0
            padding-right: 0
        +widescreen
          width: calc(50% - 30px)
          &:nth-child(odd)
            margin-right: 60px
      > bal-card > bal-card-content > a
        +hover
          &:hover
            > bal-heading > h4
              color: var(--bal-color-light-blue-5)
              text-decoration: underline
      +element(item)
        display: block
        +element(link)
          display: block
          margin-top: .5rem
          +hover
            &:hover
              color: var(--bal-color-light-blue-5)
              text-decoration: underline
      +element(card)
        margin: 0
        +element(heading)
          margin-bottom: 1rem !important

  .bal-nav__metamobile
    display: block
    background: var(--bal-color-primary-inverted)
    height: 4rem
    max-height: 4rem
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1)
    +desktop
      display: none
    nav
      display: flex
      height: 100%
      gap: .5rem
      align-items: center
      margin: 0 auto
    .bal-nav__metamobile__actions
      margin-left: auto
      > div
        display: flex
        gap: .5rem
  .bal-nav__main-mobile
    display: block
    padding-top: 1rem
    padding-bottom: 5rem
    height: var(--bal-nav-main-mobile-height)
    overflow-y: auto
    +tablet
      padding-top: 2rem
      padding-bottom: 6rem
    +desktop
      display: none
    +element(link)
      display: block
      padding-bottom: 1rem
      position: relative
      > a
        color: var(--bal-color-blue)
        font-size: 0.75rem
        font-weight: var(--bal-weight-bold)
        line-height: 1rem
        padding-right: 1rem
        position: relative
        &::before
          position: absolute
          right: 0
          top: 50%
          transform: translateY(-50%)
          content: '\279E'
        +hover
          &:hover
            color: var(--bal-color-light-blue-5)
    +element(logo)
      padding-top: 1rem
      padding-bottom: 1rem
  .bal-nav__foot-mobile
    position: fixed
    bottom: 0
    left: 0
    width: 100%
    background: var(--bal-color-grey-2)
    padding: .5rem
    +desktop
      display: none
    > div
      display: flex
      align-items: center
      justify-content: center
      gap: .5rem
  .bal-navigation-popover__button-white
    .button
      background-color: var(--bal-color-white)
      border-color: var(--bal-color-white)
  [bal-popover-trigger]
    z-index: 0

  +element(popover)
    button
      word-break: keep-all
    .bal-popover__content
      +tablet
        width: 100vw
    .bal-popover__content__inner
      padding: 1rem
      +tablet
        padding: 2rem 2.5rem
      +desktop
        padding: 1.5rem
    .bal-navigation-popover__button
      position: relative
      z-index: 20
      .button-label
        hyphens: manual
    .control
      margin: 0 !important
    +element(head)
      display: flex
      align-items: center
      justify-content: space-between
      margin-bottom: .75rem

.bal-app--safari.bal-app--touch
  .bal-nav__menu
    +desktop
      padding-bottom: 4.5rem

.bal-nav__main__list.bal-list--border > .bal-list__item--expanded > .bal-list__item__trigger > .bal-list__item__accordion-head:after,
.bal-nav__main__list.bal-list--border > .bal-list__item--expanding > .bal-list__item__trigger > .bal-list__item__accordion-head:after
  bottom: -2rem
