@import '@baloise/design-system-css/sass/mixins'

+component(select-option)
  display: none !important

+block(select)
  display: block
  position: relative
  width: 100%
  flex: 1
  font-family: var(--bal-font-family-text)
  +element(popover)
    border: 0.125rem solid var(--bal-color-grey-2)
    +element(empty)
      padding: .5rem 1rem
      font-family: var(--bal-font-family-text)
      color: var(--bal-color-text-primary)
      +modifier(hidden)
        display: none
  //
  // native select form input
  +element(native)
    +hidden-input
  //
  // visible form control of the select
  +element(control)
    display: flex
    border-width: 0.125rem
    border-style: solid
    border-color: var(--bal-color-border-grey)
    border-radius: var(--bal-radius-normal)
    background: var(--bal-color-primary-inverted)
    font-size: var(--bal-weight-regular)
    font-family: var(--bal-font-family-text)
    color: var(--bal-color-text-primary)
    outline: none
    box-shadow: var(--bal-shadow-none)
    padding-right: 1rem
    min-height: 3rem
    +modifier(focused)
      border-color: var(--bal-color-primary)
    &:not(#{&}--disabled):not(#{&}--invalid):not(#{&}--inverted-footer):hover
      border-color: var(--bal-color-border-grey)
      background-color: var(--bal-color-grey-1)
      .bal-select__control__input
        background-color: var(--bal-color-grey-1)
    &--invalid:not(#{&}--disabled)
      border-color: var(--bal-color-border-danger) !important
      background: var(--bal-color-danger-1) !important
    &:focus-within
      border-color: var(--bal-color-primary) !important
    +modifier(disabled)
      background-color: var(--bal-color-grey-2) !important
      border-color: var(--bal-color-border-grey-dark) !important
      &,
      & input
        cursor: default !important
        user-select: none !important
        pointer-events: none !important
        color: var(--bal-color-text-grey)
    +modifier(inverted-footer)
      border: none
      background-color: var(--bal-color-transparent)
      background: var(--bal-color-transparent)
      padding-right: var(--bal-space-none)
      &:hover
         background-color: var(--bal-color-transparent)

      .input
        color: white
        background-color: var(--bal-color-transparent)
        &:hover
          background-color: var(--bal-color-transparent)
          color: var(--bal-color-light-blue-2)
        &:active
          color: var(--bal-color-light-blue-3)
    //
    // trigger icon on the right
    +element(icon)
      min-height: 100% !important
      max-height: 100% !important
      +modifier(loading)
        display: none
      +modifier(clickable)
        cursor: pointer
    //
    // selection part for multiple
    +element(selections)
      align-items: center
      display: flex
      flex: 1 1
      flex-wrap: wrap
      line-height: 1.125rem
      max-width: 100%
      min-width: 0
      gap: 0
      padding-left: 0.375rem
      .bal-tag
        // margin-left: 0.625rem
        margin-left: 0.25rem
        margin-top: 0.375rem
        margin-bottom: 0.375rem
      .bal-tag + .input
        padding-left: 0.625rem
    //
    // selection part for multiple
    +element(input)
      border: none !important
      outline: none !important
      outline-width: 0 !important
      height: calc(3rem - 0.25rem) !important
      box-shadow: var(--bal-shadow-none) !important
      background: transparent
      flex: 1
      min-height: calc(3rem - 0.25rem) !important
      padding-left: 0.25rem !important
      padding-right: 0.625rem !important
      text-overflow: ellipsis
      &:read-only
        user-select: none !important
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0)
        &::selection
          background: transparent
        &::-moz-selection
          background: transparent
  //
  // select options
  +element(option)
    visibility: visible
    font-family: var(--bal-font-family-text)
    background: transparent
    border: none
    cursor: pointer
    outline: none
    min-height: 3rem
    display: flex
    align-items: center
    padding: 0
    margin: 0
    border-top: 0.125rem solid var(--bal-color-grey-2)
    text-align: inherit
    white-space: nowrap
    width: 100%
    &:first-child
      border-top: none
    &::-moz-focus-inner
      border: none
    +modifier(selected)
      background: var(--bal-color-primary-1)
      .bal-select__option__content__label
        font-weight: var(--bal-weight-bold)
    +modifier(focused)
      background: var(--bal-color-grey-2)
    &:hover
      background: var(--bal-color-grey-2)
    +element(content)
      display: flex
      flex: 1
      align-items: center
      min-height: 3rem
      padding: 0.75rem 1rem
      gap: 0.75rem
      +element(checkbox)
        margin: 0
        padding: 0
      +element(label)
        margin: 0
        padding: 0
        font-family: var(--bal-font-family-text)
        font-weight: var(--bal-weight-regular)
        color: var(--bal-color-text-primary)
        line-height: 1.125rem
        word-break: break-word
        white-space: normal
        hyphens: auto
