@import '~@baloise/design-system-next-css/scss/baloise-design-system.utilities'
@import './bal-input-group.mixins'

+block(input-group)
  +unselectable
  position: relative
  display: flex
  width: 100%
  align-items: center
  min-height: 48px
  gap: 4px
  border: 2px solid var(--bal-color-border-normal)
  border-radius: var(--bal-radius-small)
  background: var(--bal-color-white)

  .input
    min-height: 44px
    height: 44px
    border: none
    border-radius: 0
    padding-left: 0
    padding-right: 0
    padding-bottom: calc(0.5em - 5px)
    padding-top: calc(0.5em - 5px)

  .bal-select__control
    border: none
    min-height: 44px

  .bal-icon
    min-width: 48px

  & > *:first-child.bal-select .bal-select__control
    padding-left: 0.625rem

  & > *:first-child.bal-input
    .input
      padding-left: 0.625rem

  & > *:last-child.bal-input
    .input
      padding-right: 0.625rem

  & > *:first-child.input
    padding-left: 0.625rem

  & > *:last-child.input
    padding-right: 0.625rem

  & > *:last-child.bal-tag
    margin-right: 0.625rem

  & > *:first-child.bal-tag
    margin-left: 0.625rem

  &.is-hovered,
  &:hover
    &,
    .input,
    .bal-select__control
      background: var(--bal-color-grey-1)

  +modifier(is-danger)
    &,
    .input
      border-color: var(--bal-color-border-danger)
      background: var(--bal-color-danger-light)

    svg
      g,
      path,
      circle
        fill: var(--bal-color-border-danger)

  @include inputGroupTheme('danger', var(--bal-color-danger-light), var(--bal-color-border-danger))
  @include inputGroupTheme('success', var(--bal-color-success-light), var(--bal-color-border-success))
  @include inputGroupTheme('warning', var(--bal-color-warning-light), var(--bal-color-border-warning))
  @include inputGroupTheme('disabled', var(--bal-color-disabled), var(--bal-color-border-disabled))

  +modifier(is-disabled)
    &,
    .input
      cursor: default
      pointer-events: none
      user-select: none
      color: var(--bal-color-grey-5)

      ::placeholder
        color: var(--bal-color-grey-5)

    .tag
      background-color: var(--bal-color-grey-5)

      span
        color: var(--bal-color-white)

      .delete
        display: none

  &:not(.bal-input-group--is-disabled)
    &:focus-within
      border-color: var(--bal-color-primary)
